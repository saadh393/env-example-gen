# env-template-gen

> Developer-friendly CLI that converts existing `.env` files into safe `.env.example` templates with human-readable placeholders.

## Why?

Sharing `.env` files is insecure, while keeping `.env.example` files in sync is tedious. `env-template-gen` automates template creation, preserving helpful comments and replacing sensitive values with descriptive placeholders so new teammates know exactly what to provide without seeing secrets.

## Features

- ğŸ” Scans any `.env`-style file and extracts variables, keeping comments and blank lines intact.
- ğŸ” Replaces secrets with contextual placeholders (`<YOUR_SECRET_HERE>`, `<PORT IN NUMBER>`, `â€¦`) using smart key detection.
- ğŸ—ƒï¸ Handles single files (default) or every `.env*` file via `--multi`.
- ğŸ’¾ Never logs or emits original valuesâ€”safe for CI and automation.
- ğŸªª Adds a helpful header reminding readers how to use the template.
- ğŸ§ª Provides exit codes suited for pipelines plus a fully tested, modular codebase.

## Installation

Use the CLI without installing by running it via `npx`, or add it to your devDependencies for repeated use.

```bash
# Run once
npx env-template-gen

# Or install locally
npm install --save-dev env-template-gen
```

## Usage

```bash
npx env-template-gen [options]
```

### Common flows

| Scenario | Command |
| --- | --- |
| Generate `.env.example` from `.env` in the current directory | `npx env-template-gen` |
| Read/write custom paths | `npx env-template-gen --input ./config/.env.production --output ./templates/.env.production.example` |
| Process every `.env*` file (`.env`, `.env.local`, `.env.production`, â€¦) | `npx env-template-gen --multi` |

### CLI options

```
-i, --input <path>   Path to the source .env file (defaults to ./\.env)
-o, --output <path>  Path for the generated template file
-m, --multi          Generate templates for every .env* file in the current directory
-h, --help           Show usage info
```

## Placeholder detection

`env-template-gen` inspects variable names and picks meaningful placeholders:

| Pattern | Placeholder |
| --- | --- |
| `PORT` | `<PORT IN NUMBER>` |
| `URI`, `URL` | `<PROTOCOL://USERNAME:PASSWORD@HOST/DATABASENAME>` |
| `HOST` | `<HOSTNAME>` |
| `PASS`, `PASSWORD`, `SECRET`, `TOKEN`, `KEY` | `<YOUR_SECRET_HERE>` |
| `USER` | `<USERNAME OR EMAIL>` |
| `EMAIL` | `<EMAIL_ADDRESS>` |
| `EXPIRES_IN`, `TIMEOUT` | `<TIME_DURATION>` |
| _(fallback)_ | `<YOUR_VALUE_HERE>` |

## Examples

Input `.env`:

```
PORT=8080
DATABASE_URL=postgres://user:pass@host/db
JWT_SECRET=abcd1234
```

Generated `.env.example`:

```
# Generated by env-template-gen
# Copy this file to .env and replace placeholders with real values.

PORT=<PORT IN NUMBER>
DATABASE_URL=<PROTOCOL://USERNAME:PASSWORD@HOST/DATABASENAME>
JWT_SECRET=<YOUR_SECRET_HERE>
```

## Development

```bash
# Install dependencies
npm install

# Type-check & build to dist/
npm run build

# Run the CLI from source
npm run dev -- --help

# Execute the Vitest test suite
npm test
```

During publishing, npm automatically runs `npm run prepare`, ensuring the TypeScript sources compile before the package ships.

## License

ISC Â© 2024 env-template-gen contributors
